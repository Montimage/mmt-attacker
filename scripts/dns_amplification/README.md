# DNS Amplification Attack Simulation

## Overview

DNS Amplification is a type of Distributed Denial of Service (DDoS) attack where attackers exploit open DNS resolvers to overwhelm a target with amplified DNS response traffic. The attack works by sending DNS queries with a spoofed source IP (the victim's) to DNS servers, which then send their responses to the victim, amplifying the attacker's traffic.

This script simulates a DNS amplification attack for educational and authorized security testing purposes.

## Features

- Customizable DNS query types for different amplification factors
- Rate limiting to control traffic generation
- Spoofed source IP address (the victim's address)
- Detailed logging and statistics
- Multiple DNS server targeting

## Requirements

- Python 3.6+
- Scapy library
- Root/Administrator privileges (required for packet manipulation)

## Installation

```bash
# Install required dependencies
pip install scapy
```

## Usage

### Basic Attack

The simplest way to run a DNS amplification attack simulation is to specify a target IP, DNS server, and domain to query:

```bash
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8 -d example.com
```

This will:
- Send 5 DNS queries (default) to the DNS server 8.8.8.8
- Use the spoofed source IP of 192.168.1.10 (the target/victim)
- Query for the domain example.com
- Use the ANY query type (default), which has the highest amplification factor

### Customizing the Attack

#### Specify Multiple DNS Servers

To distribute the attack across multiple DNS servers:

```bash
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8,8.8.4.4,1.1.1.1 -d example.com
```

#### Change Query Type

Different DNS query types have different amplification factors:

```bash
# Use TXT records (medium amplification)
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8 -d example.com -q TXT

# Use A records (low amplification)
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8 -d example.com -q A
```

#### Adjust Query Count and Interval

To control the number of queries and the rate:

```bash
# Send 10 queries with 1 second between each
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8 -d example.com -c 10 -i 1.0
```

#### Enable Verbose Mode

For detailed output and debugging information:

```bash
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8 -d example.com -v
```

## Advanced Usage

### Testing with Different Amplification Factors

To compare the effectiveness of different query types:

```bash
# High amplification (ANY query)
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8 -d example.com -q ANY -c 5

# Medium amplification (TXT query)
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8 -d example.com -q TXT -c 5

# Low amplification (A query)
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8 -d example.com -q A -c 5
```

### Simulating a Distributed Attack

To simulate a more realistic distributed attack:

```bash
# In one terminal
sudo python dns_amplification.py -t 192.168.1.10 -s 8.8.8.8 -d example.com -c 10

# In another terminal
sudo python dns_amplification.py -t 192.168.1.10 -s 1.1.1.1 -d example.org -c 10

# In a third terminal
sudo python dns_amplification.py -t 192.168.1.10 -s 9.9.9.9 -d example.net -c 10
```

## Ethical Considerations

This tool should ONLY be used for:
- Educational purposes
- Authorized security testing
- Understanding DDoS attack vectors

Unauthorized use against systems without explicit permission is illegal and unethical.

## Monitoring the Attack

To monitor the traffic generated by the attack, you can use tools like:

```bash
# Using tcpdump to monitor DNS traffic
sudo tcpdump -i eth0 port 53

# Using iftop to monitor bandwidth usage
sudo iftop -i eth0
```

## Command Line Options

```
-t, --target       Target IP address (victim) (required)
-s, --servers      Comma-separated list of DNS server IP addresses (required)
-d, --domain       Domain name to query (required)
-q, --query-type   Type of DNS query (default: ANY)
                   Options: A, AAAA, TXT, MX, NS, SOA, CNAME, ANY, SRV
-c, --count        Number of queries to send (default: 5)
-i, --interval     Time interval between queries in seconds (default: 0.5)
-v, --verbose      Enable verbose output
```

## License

Proprietary - Montimage
